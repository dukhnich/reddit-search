(this.webpackJsonprouting=this.webpackJsonprouting||[]).push([[0],{20:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);a(21);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),s=(a(26),a(1)),i=a(11),o=(a(27),a(8)),u=a(3),m=a.n(u),d=a(7),f=a(19),p=function(e){return r.a.createElement("div",{className:"input-group "+e.additionalClass},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},e.label)),r.a.createElement("input",{onChange:function(t){return a=t.target.value,void e.onChange(a,e.name);var a},type:"text",value:e.value,className:"form-control",placeholder:e.label,"aria-label":e.label,"aria-describedby":"basic-addon1"}))},v=function(e){return r.a.createElement("div",{className:"input-group "+e.additionalClass},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},e.label)),r.a.createElement("input",{onChange:function(t){return a=t.target.value,void e.onChange(a,e.name);var a},value:e.value,type:"number",className:"form-control",placeholder:e.label,min:e.min,max:e.max,step:e.step}))},E=function(e){var t=Object(n.useState)(e.initialValue),a=Object(o.a)(t,2),c=a[0],l=a[1],s=function(e,t){l((function(a){var n=Object(f.a)({},a);return n[t]=e,n}))},i=function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.submitHandler(c);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:i,className:"form-inline"},r.a.createElement(p,{additionalClass:"m-3",value:c.category,name:"category",label:"Category",onChange:s}),r.a.createElement(v,{additionalClass:"m-3",value:c.limit,min:1,max:100,step:1,name:"limit",label:"Limit",onChange:s}),r.a.createElement("button",{type:"submit",className:"btn flex-shrink-0 ml-3 btn-primary"},"Search"))},h=function(e){var t=e.data,a=t.thumbnail,n=t.created,c=t.num_comments,l=t.author,i=t.score,o=t.title,u=t.permalink,m=Object(s.g)();return r.a.createElement("div",{className:"card my-3"},r.a.createElement("div",{className:"card-header"},a&&"self"!==a&&r.a.createElement("img",{className:"img-thumbnail flex-shrink-0 mr-3",src:a}),l),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},o),r.a.createElement("button",{onClick:function(){m.push("".concat(u))},className:"btn btn-primary"},"Feed page")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted mr-3"},"Comments: "+c),r.a.createElement("small",{className:"text-muted mr-3"},"Score: "+i),r.a.createElement("small",{className:"text-muted mr-3"},new Date(1e3*n).toUTCString())))},b=function(e){return r.a.createElement("div",{className:"card-columns"},e.reddits.map((function(e){var t=e.data;return r.a.createElement(h,{key:t.id,data:t})})))},g=function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-primary m-3",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},x=function(e){var t=e.data.children[0].data.subreddit,a=e.data.dist,n=e.data.before,c=e.data.after;console.log(n,c);var l=function(t){t.preventDefault(),e.paginationHandler(t.target.href,t.target.innerText)};return r.a.createElement("nav",{"aria-label":"Page navigation",className:"align-self-center"},r.a.createElement("ul",{className:"pagination mb-0"},r.a.createElement("li",{className:"page-item "+(n?"":"disabled")},r.a.createElement("a",{onClick:l,className:"page-link",href:"https://www.reddit.com/r/".concat(t,".json?limit=").concat(a,"&before=").concat(n,"&count=").concat(e.count),"aria-label":"Previous"},"Previous")),r.a.createElement("li",{className:"page-item "+(c?"":"disabled")},r.a.createElement("a",{onClick:l,className:"page-link",href:"https://www.reddit.com//r/".concat(t,".json?limit=").concat(a,"&after=").concat(c,"&count=").concat(e.count),"aria-label":"Next"},"Next"))))},N=function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.reddit.com/r/".concat(t,".json?limit=").concat(a,"&dist=").concat(a),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(e){var t=e.text;return t?r.a.createElement("h4",null,t):r.a.createElement(g,null)},w={category:"react",limit:10},j=function(){var e=r.a.useState({}),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),s=Object(o.a)(l,2),i=s[0],u=s[1],f=Object(n.useState)(1),p=Object(o.a)(f,2),v=p[0],h=p[1],g=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.category,n=t.limit,e.prev=1,e.next=4,u(null);case 4:return e.next=6,c({});case 6:return e.next=8,h(0);case 8:if(a){e.next=10;break}throw{message:"Type some category"};case 10:return e.next=12,N(a,n);case 12:r=e.sent,c(r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),u(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.category,n=t.limit,e.next=3,N(a,n);case 3:(r=e.sent).data?c(r):u(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var r,l,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return l=e.sent,s=a.data.dist,e.next=10,c(l);case 10:"Next"===n&&h((function(e){return+e+s})),"Previous"===n&&h((function(e){return+e-s})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),u(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.useEffect((function(){j(w)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Search reddit feeds"),r.a.createElement("div",{className:"d-flex justify-content-between mr-2"},r.a.createElement(E,{submitHandler:g,initialValue:w}),a.data&&r.a.createElement(x,{paginationHandler:k,data:a.data,count:v})),Object.keys(a).length>0?r.a.createElement(b,{reddits:a.data.children}):r.a.createElement(y,{text:i?i.message:""}))},k=function(e){var t=e.data,a=t.thumbnail,n=t.created,c=t.num_comments,l=t.author,s=t.score,i=t.title,o=t.body;return r.a.createElement("div",{className:"card my-3"},r.a.createElement("div",{className:"card-header"},a&&"self"!==a&&r.a.createElement("img",{className:"img-thumbnail flex-shrink-0 mr-3",src:a}),l),r.a.createElement("div",{className:"card-body"},i&&r.a.createElement("h5",{className:"card-title"},i),o&&r.a.createElement("p",null,o)),r.a.createElement("div",{className:"card-footer"},c&&r.a.createElement("small",{className:"text-muted mr-3"},"Comments: "+c),r.a.createElement("small",{className:"text-muted mr-3"},"Score: "+s),r.a.createElement("small",{className:"text-muted mr-3"},new Date(1e3*n).toUTCString())))},O=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.reddit.com".concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return Array.isArray(e.comments)?e.comments.map((function(e){return r.a.createElement(k,{key:e.data.id,data:e.data})})):null},S=function(){var e=r.a.useState([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(s.h)().url,l=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(c);case 2:t=e.sent,console.log(t),n(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){l()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"User with id "),a.length&&Array.isArray(a)?a.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(C,{comments:e.data.children}))})):r.a.createElement(g,null))};var H=function(){return r.a.createElement("div",null,"Page not found")};var P=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},"Home"),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(j,null)),r.a.createElement(s.b,{path:"/r/:subreddit/comments/:id/:name"},r.a.createElement(S,null)),r.a.createElement(s.a,{from:"/home",to:"/"}),r.a.createElement(s.b,null,r.a.createElement(H,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.97b6da4e.chunk.js.map